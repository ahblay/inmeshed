{% extends "base.html" %}

{% block data %}
{% endblock %}

{% block title %}
InMESHED
{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.2/katex.min.css">
{% endblock %}

{% block ptitle %}InMeshed{% endblock %}

{% block content %}
<div id="main-content-container" class="big-grid-container">
  <div class="desc">
    <div class="points-container">
      <div id="points-bug">
        <span id="points-message">That's good shit!</span>
        <span id="points">+1</span>
      </div>
    </div>
    <div id="guess-container">
      <input id="guess-input"
             class="unselectable"
             type="text"
             placeholder="Enter guess"
             required="required"
             oninput="handleWordInput(event); letterHighlighter();"
             onpaste="return false;"
             oncut="return false;"
      >
    </div>

    <div id="letters-container" class="desc grid-container">
      {% for letter in results[0] %}
      <div class="letter">{{ letter }}</div>
      {% endfor %}
    </div>

    <div id="button-container">
      <button title="Tell me if a word is missing. Word list does not include endings (i.e. 'ing', 'ed', 'er')."
              onclick="logMissingWord()">Log Missing Word</button>
    </div>

    <ul id="uncommon-words"></ul>
    <!--
    <button onclick="checkWord()">Enter</button>

    <button onclick="">New letters</button>
    -->
  </div>
  <div id="progress-guess-container" class="desc">
    <ul id="progress-bar" class="highlight-active">
      <li id="one" class="active" data-threshold=""></li>
      <li id="two" data-threshold=""></li>
      <li id="three" data-threshold=""></li>
      <li id="four" data-threshold=""></li>
      <li id="five" data-threshold=""></li>
      <li id="six" data-threshold=""></li>
      <li id="seven" data-threshold=""></li>
      <li id="eight" data-threshold=""></li>
    </ul>
    <ul id="found-words"></ul>
    </div>
  </div>
</div>

<div id="score-modal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Ranking</h2>
    <div class="desc">
      Your ranking is based on your intelligence.
    </div>
    <div id="ranking-container" class="desc">
      <div id="ranking-eight" class="row">
        <span class="level">Genius</span>
        <span class="line"></span>
        <span class="threshold"></span>
      </div>
      <div id="ranking-seven" class="row">
        <span class="level">Clever</span>
        <span class="line"></span>
        <span class="threshold"></span>
      </div>
      <div id="ranking-six" class="row">
        <span class="level">Good</span>
        <span class="line"></span>
        <span class="threshold"></span>
      </div>
      <div id="ranking-five" class="row">
        <span class="level">"Clever"</span>
        <span class="line"></span>
        <span class="threshold"></span>
      </div>
      <div id="ranking-four" class="row">
        <span class="level">Eh...</span>
        <span class="line"></span>
        <span class="threshold"></span>
      </div>
      <div id="ranking-three" class="row">
        <span class="level">Moron</span>
        <span class="line"></span>
        <span class="threshold"></span>
      </div>
      <div id="ranking-two" class="row">
        <span class="level">Idiot</span>
        <span class="line"></span>
        <span class="threshold"></span>
      </div>
      <div id="ranking-one" class="row">
        <span class="level current-ranking">Fool</span>
        <span class="line current-ranking"></span>
        <span class="threshold current-ranking"></span>
      </div>
    </div>

  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.2/katex.min.js" type="text/javascript"></script>
<script type="text/javascript">
  var solutions = {{ results[1]|tojson }}
  var letters = {{ results[0]|tojson }}
  var solutionsFreq = {{ results[2]|tojson }}
</script>
<script src="/static/index.js" type="text/javascript"></script>
<script src="/static/popup.js" type="text/javascript"></script>
{% endblock %}